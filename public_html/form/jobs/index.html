<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>ì”¬ì§œì˜¤ êµ¬ì¸êµ¬ì§ | ë“±ë¡</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Noto Sans KR', system-ui, sans-serif;
            background: #f5f5f5;
        }

        .header {
            background: linear-gradient(135deg, #1976D2, #42A5F5);
            color: #fff;
            padding: 20px 16px 24px;
            text-align: center;
        }

        .header h1 {
            font-size: 20px;
            font-weight: 700;
        }

        .header p {
            font-size: 13px;
            opacity: 0.9;
            margin-top: 4px;
        }

        .form-body {
            padding: 16px;
            max-width: 600px;
            margin: 0 auto;
        }

        .section {
            background: #fff;
            border-radius: 16px;
            padding: 18px 16px;
            margin-bottom: 12px;
            box-shadow: 0 1px 8px rgba(0, 0, 0, 0.06);
        }

        .section-title {
            font-size: 14px;
            font-weight: 700;
            color: #333;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .required {
            color: #1976D2;
        }

        label {
            font-size: 13px;
            color: #666;
            display: block;
            margin-bottom: 6px;
            margin-top: 12px;
        }

        label:first-of-type {
            margin-top: 0;
        }

        input[type=text],
        input[type=tel],
        textarea,
        select {
            width: 100%;
            border: 1.5px solid #e8e8e8;
            border-radius: 10px;
            padding: 12px 14px;
            font-size: 15px;
            font-family: inherit;
            color: #222;
            background: #fafafa;
            outline: none;
            transition: border-color 0.2s;
        }

        input:focus,
        textarea:focus,
        select:focus {
            border-color: #1976D2;
            background: #fff;
        }

        textarea {
            resize: none;
            height: 120px;
            line-height: 1.6;
        }

        /* êµ¬ì¸/êµ¬ì§ í† ê¸€ */
        .job-type-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .jt-btn {
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 14px 8px;
            background: #fff;
            cursor: pointer;
            text-align: center;
            transition: all 0.15s;
        }

        .jt-btn .jt-icon {
            font-size: 26px;
            display: block;
            margin-bottom: 6px;
        }

        .jt-btn .jt-label {
            font-size: 15px;
            font-weight: 700;
            color: #333;
        }

        .jt-btn .jt-sub {
            font-size: 11px;
            color: #999;
            margin-top: 3px;
        }

        .jt-btn.active {
            border-color: #1976D2;
            background: #E3F2FD;
        }

        .jt-btn.active .jt-label {
            color: #1976D2;
        }

        /* ì—…ì¢… ì¹© */
        .industry-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .ind-chip {
            border: 1.5px solid #e0e0e0;
            border-radius: 20px;
            padding: 7px 14px;
            font-size: 13px;
            background: #fff;
            cursor: pointer;
            color: #555;
            transition: all 0.15s;
        }

        .ind-chip.active {
            border-color: #1976D2;
            background: #1976D2;
            color: #fff;
            font-weight: 700;
        }

        /* ê³ ìš© í˜•íƒœ */
        .emp-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
        }

        .emp-btn {
            border: 1.5px solid #e0e0e0;
            border-radius: 10px;
            padding: 10px 4px;
            font-size: 12px;
            text-align: center;
            background: #fff;
            cursor: pointer;
            color: #555;
            transition: all 0.15s;
        }

        .emp-btn.active {
            border-color: #1976D2;
            background: #E3F2FD;
            color: #1976D2;
            font-weight: 700;
        }

        .submit-btn {
            width: 100%;
            background: linear-gradient(135deg, #1976D2, #42A5F5);
            color: #fff;
            border: none;
            border-radius: 14px;
            padding: 16px;
            font-size: 16px;
            font-weight: 700;
            font-family: inherit;
            cursor: pointer;
            margin-top: 8px;
            margin-bottom: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        #success-screen {
            display: none;
        }

        .success-card {
            background: #fff;
            border-radius: 20px;
            padding: 28px 20px;
            text-align: center;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.08);
            margin: 16px;
        }

        .success-icon {
            font-size: 52px;
            margin-bottom: 12px;
        }

        .success-title {
            font-size: 20px;
            font-weight: 700;
            color: #222;
        }

        .success-sub {
            font-size: 14px;
            color: #888;
            margin-top: 8px;
            line-height: 1.6;
        }

        .kakao-share-box {
            background: #FEE500;
            border-radius: 14px;
            padding: 16px;
            margin-top: 20px;
            text-align: left;
        }

        .kakao-share-label {
            font-size: 13px;
            font-weight: 700;
            color: #3C1E1E;
            margin-bottom: 8px;
        }

        .kakao-share-text {
            font-size: 13px;
            color: #3C1E1E;
            white-space: pre-wrap;
            line-height: 1.7;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 8px;
            padding: 12px;
        }

        .copy-btn {
            width: 100%;
            background: #3C1E1E;
            color: #FEE500;
            border: none;
            border-radius: 10px;
            padding: 12px;
            font-size: 14px;
            font-weight: 700;
            font-family: inherit;
            cursor: pointer;
            margin-top: 10px;
        }

        .share-kakao-btn {
            width: 100%;
            background: #FEE500;
            color: #3C1E1E;
            border: none;
            border-radius: 14px;
            padding: 18px;
            font-size: 18px;
            font-weight: 700;
            font-family: inherit;
            cursor: pointer;
            margin-top: 16px;
            margin-bottom: 16px;
            box-shadow: 0 4px 12px rgba(254, 229, 0, 0.4);
        }

        .another-btn {
            width: 100%;
            background: #1976D2;
            color: #fff;
            border: none;
            border-radius: 14px;
            padding: 14px;
            font-size: 15px;
            font-weight: 700;
            font-family: inherit;
            cursor: pointer;
            margin-top: 12px;
        }

        .loading-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(255, 255, 255, 0.85);
            z-index: 100;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .loading-overlay.active {
            display: flex;
        }

        .spinner {
            width: 44px;
            height: 44px;
            border: 4px solid #BBDEFB;
            border-top-color: #1976D2;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .loading-text {
            font-size: 14px;
            color: #666;
            font-weight: 500;
        }

        .back-link {
            display: block;
            text-align: center;
            color: #1976D2;
            font-size: 14px;
            margin-bottom: 16px;
            text-decoration: none;
            padding: 8px;
        }

        .char-count {
            text-align: right;
            font-size: 12px;
            color: #999;
            margin-top: 4px;
        }
    </style>
</head>

<body>
    <div class="loading-overlay" id="loading">
        <div class="spinner"></div>
        <div class="loading-text" id="loading-text">ì—…ë¡œë“œ ì¤‘...</div>
    </div>

    <div id="form-screen">
        <div class="header">
            <h1>ğŸ’¼ ì”¬ì§œì˜¤ êµ¬ì¸êµ¬ì§</h1>
            <p>êµ¬ì¸ Â· êµ¬ì§ Â· ì•„ë¥´ë°”ì´íŠ¸ ë“±ë¡</p>
        </div>

        <div class="form-body">
            <a href="../" class="back-link">â† ì¹´í…Œê³ ë¦¬ ì„ íƒìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>

            <!-- êµ¬ì¸/êµ¬ì§ ì„ íƒ -->
            <div class="section">
                <div class="section-title">ğŸ”„ ìœ í˜• ì„ íƒ <span class="required">*</span></div>
                <div class="job-type-row">
                    <button class="jt-btn active" id="btn-hire" onclick="selectJobType('êµ¬ì¸')">
                        <span class="jt-icon">ğŸ¢</span>
                        <span class="jt-label">êµ¬ì¸</span>
                        <span class="jt-sub">ì¸ì¬ë¥¼ ì°¾ìŠµë‹ˆë‹¤</span>
                    </button>
                    <button class="jt-btn" id="btn-seek" onclick="selectJobType('êµ¬ì§')">
                        <span class="jt-icon">ğŸ‘¤</span>
                        <span class="jt-label">êµ¬ì§</span>
                        <span class="jt-sub">ì¼ìë¦¬ë¥¼ ì°¾ìŠµë‹ˆë‹¤</span>
                    </button>
                </div>
            </div>

            <!-- ì œëª© -->
            <div class="section">
                <div class="section-title">âœï¸ ì œëª© <span class="required">*</span></div>
                <input type="text" id="title" placeholder="ì˜ˆ: í˜¸ì¹˜ë¯¼ í•œì‹ë‹¹ ì£¼ë°©ë³´ì¡° êµ¬í•©ë‹ˆë‹¤" maxlength="50"
                    oninput="document.getElementById('title-count').textContent=this.value.length+'/50'">
                <div class="char-count" id="title-count">0/50</div>
            </div>

            <!-- ì—…ì¢… -->
            <div class="section">
                <div class="section-title">ğŸ“‹ ì—…ì¢…</div>
                <div class="industry-grid" id="industry-grid">
                    <button class="ind-chip active" data-val="ì‹ë‹¹/ìš”ë¦¬" onclick="selectIndustry(this)">ğŸ³ ì‹ë‹¹/ìš”ë¦¬</button>
                    <button class="ind-chip" data-val="IT/ê°œë°œ" onclick="selectIndustry(this)">ğŸ’» IT/ê°œë°œ</button>
                    <button class="ind-chip" data-val="ì œì¡°/ìƒì‚°" onclick="selectIndustry(this)">ğŸ­ ì œì¡°/ìƒì‚°</button>
                    <button class="ind-chip" data-val="ë¬´ì—­/ë¬¼ë¥˜" onclick="selectIndustry(this)">ğŸšš ë¬´ì—­/ë¬¼ë¥˜</button>
                    <button class="ind-chip" data-val="êµìœ¡/ê°•ì‚¬" onclick="selectIndustry(this)">ğŸ“– êµìœ¡/ê°•ì‚¬</button>
                    <button class="ind-chip" data-val="ì„œë¹„ìŠ¤/íŒë§¤" onclick="selectIndustry(this)">ğŸ›ï¸ ì„œë¹„ìŠ¤/íŒë§¤</button>
                    <button class="ind-chip" data-val="ì‚¬ë¬´/ê´€ë¦¬" onclick="selectIndustry(this)">ğŸ“Š ì‚¬ë¬´/ê´€ë¦¬</button>
                    <button class="ind-chip" data-val="ê±´ì„¤/ì¸í…Œë¦¬ì–´" onclick="selectIndustry(this)">ğŸ”¨ ê±´ì„¤/ì¸í…Œë¦¬ì–´</button>
                    <button class="ind-chip" data-val="ë¯¸ìš©/ë·°í‹°" onclick="selectIndustry(this)">ğŸ’… ë¯¸ìš©/ë·°í‹°</button>
                    <button class="ind-chip" data-val="í†µì—­/ë²ˆì—­" onclick="selectIndustry(this)">ğŸŒ í†µì—­/ë²ˆì—­</button>
                    <button class="ind-chip" data-val="ê¸°íƒ€" onclick="selectIndustry(this)">ğŸ“¦ ê¸°íƒ€</button>
                </div>
            </div>

            <!-- ê¸‰ì—¬/ê¸‰ì—¬ í˜•íƒœ -->
            <div class="section">
                <div class="section-title">ğŸ’° ê¸‰ì—¬</div>
                <label>ê¸‰ì—¬ (ê¸ˆì•¡ ë˜ëŠ” 'í˜‘ì˜')</label>
                <input type="text" id="salary" placeholder="ì˜ˆ: ì›” 500ë§Œë™, ì‹œê°„ë‹¹ 20,000ë™, í˜‘ì˜">

                <label>ê³ ìš© í˜•íƒœ</label>
                <div class="emp-grid">
                    <button class="emp-btn active" data-val="ì •ê·œì§" onclick="selectEmp(this)">ì •ê·œì§</button>
                    <button class="emp-btn" data-val="ê³„ì•½ì§" onclick="selectEmp(this)">ê³„ì•½ì§</button>
                    <button class="emp-btn" data-val="íŒŒíŠ¸íƒ€ì„" onclick="selectEmp(this)">íŒŒíŠ¸íƒ€ì„</button>
                    <button class="emp-btn" data-val="ì¸í„´" onclick="selectEmp(this)">ì¸í„´</button>
                    <button class="emp-btn" data-val="í”„ë¦¬ëœì„œ" onclick="selectEmp(this)">í”„ë¦¬ëœì„œ</button>
                    <button class="emp-btn" data-val="í˜‘ì˜" onclick="selectEmp(this)">í˜‘ì˜</button>
                </div>
            </div>

            <!-- ê·¼ë¬´ì§€ -->
            <div class="section">
                <div class="section-title">ğŸ“ ê·¼ë¬´ì§€</div>
                <label>ë„ì‹œ <span class="required">*</span></label>
                <select id="city">
                    <option value="">ë„ì‹œ ì„ íƒ</option>
                    <option value="í˜¸ì¹˜ë¯¼">í˜¸ì¹˜ë¯¼</option>
                    <option value="í•˜ë…¸ì´">í•˜ë…¸ì´</option>
                    <option value="ë‹¤ë‚­">ë‹¤ë‚­</option>
                    <option value="ëƒì§±">ëƒì§±</option>
                    <option value="ë¶•ë”°ìš°">ë¶•ë”°ìš°</option>
                    <option value="ë¹ˆì¦">ë¹ˆì¦</option>
                    <option value="ë™ë‚˜ì´">ë™ë‚˜ì´</option>
                    <option value="ê¸°íƒ€">ê¸°íƒ€</option>
                </select>

                <label>ìƒì„¸ ì§€ì—­</label>
                <input type="text" id="district" placeholder="ì˜ˆ: 7êµ°, ë¹ˆíƒ„êµ¬ ë“±">
            </div>

            <!-- ë§ˆê°ì¼ -->
            <div class="section">
                <div class="section-title">ğŸ“… ë§ˆê°ì¼</div>
                <input type="text" id="deadline" placeholder="ì˜ˆ: 2026ë…„ 3ì›” 31ì¼, ì±„ìš© ì‹œ ë§ˆê°, ìƒì‹œ">
            </div>

            <!-- ìƒì„¸ ë‚´ìš© -->
            <div class="section">
                <div class="section-title">ğŸ“ ìƒì„¸ ë‚´ìš© <span class="required">*</span></div>
                <label id="desc-label">ì—…ë¬´ ë‚´ìš©, ì§€ì› ìê²© ë“± ìì„¸íˆ ì ì–´ì£¼ì„¸ìš”</label>
                <textarea id="description" placeholder="ì—…ë¬´ ë‚´ìš©, ê·¼ë¬´ ì‹œê°„, í˜œíƒ ë“±"></textarea>

                <label>ìê²© ìš”ê±´ / ìš°ëŒ€ì‚¬í•­</label>
                <textarea id="requirements" placeholder="ê²½ë ¥, ì–¸ì–´ ëŠ¥ë ¥, ìê²©ì¦ ë“± (ì„ íƒì‚¬í•­)" style="height:80px"></textarea>
            </div>

            <!-- ì—°ë½ì²˜ -->
            <div class="section">
                <div class="section-title">ğŸ“ ì—°ë½ì²˜ <span class="required">*</span></div>
                <label>ì „í™”/ì¹´ì¹´ì˜¤/Zalo</label>
                <input type="tel" id="contact" placeholder="010-1234-5678 ë˜ëŠ” ì¹´ì¹´ì˜¤ID, Zaloë²ˆí˜¸">
                <label>ì´ë¦„/íšŒì‚¬ëª…</label>
                <input type="text" id="contact-name" placeholder="í™ê¸¸ë™ / ì”¬ì§œì˜¤ ë ˆìŠ¤í† ë‘ (ì„ íƒì‚¬í•­)">
            </div>

            <button class="submit-btn" id="submit-btn" onclick="submitForm()">
                âœ… ë“±ë¡í•˜ê¸°
            </button>
        </div>
    </div>

    <div id="success-screen">
        <div class="header" style="background: linear-gradient(135deg, #4CAF50, #66BB6A);">
            <h1>âœ… ë“±ë¡ ì™„ë£Œ!</h1>
            <p>ì”¬ì§œì˜¤ ì•±ì— ìë™ìœ¼ë¡œ ì—…ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤</p>
        </div>
        <div class="success-card">
            <div class="success-icon">ğŸ‰</div>
            <div class="success-title">ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!</div>
            <div class="success-sub">ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ ë°”ë¡œ ì˜¤í”ˆì±„íŒ…ì— ê³µìœ í•˜ì„¸ìš”!</div>
            <button class="share-kakao-btn" onclick="shareToKakao()">ğŸ’¬ ì¹´ì¹´ì˜¤í†¡ì— ê³µìœ í•˜ê¸°</button>
            <div class="kakao-share-box">
                <div class="kakao-share-label">ğŸ“‹ ê³µìœ  ë‚´ìš© ë¯¸ë¦¬ë³´ê¸°</div>
                <div class="kakao-share-text" id="share-text"></div>
                <button class="copy-btn" onclick="copyText()">ğŸ“‹ í…ìŠ¤íŠ¸ë§Œ ë³µì‚¬í•˜ê¸°</button>
            </div>
            <button class="another-btn" onclick="location.reload()">+ ë˜ ë“±ë¡í•˜ê¸°</button>
            <hr style="margin: 16px 0; border-color: #f0f0f0;">
            <a href="../" style="display:block;text-align:center;color:#888;font-size:13px">â† ì²˜ìŒìœ¼ë¡œ</a>
        </div>
    </div>

    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.4/kakao.min.js"></script>
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js';
        import { getFirestore, collection, addDoc, serverTimestamp } from 'https://www.gstatic.com/firebasejs/10.14.0/firebase-firestore.js';
        import { getAuth, signInAnonymously } from 'https://www.gstatic.com/firebasejs/10.14.0/firebase-auth.js';

        if (typeof Kakao !== 'undefined' && !Kakao.isInitialized()) {
            Kakao.init('eb4612604473e026e6cc7ed41ededbc3');
        }

        const app = initializeApp({
            apiKey: "AIzaSyAAtT9gcu8eVQIhQxYEgBTGp2XZ6ghz_NU",
            authDomain: "chaovietnam-login.firebaseapp.com",
            projectId: "chaovietnam-login",
            storageBucket: "chaovietnam-login.firebasestorage.app",
            messagingSenderId: "249390849714",
            appId: "1:249390849714:web:95ae3e7f066b70ffe973ab",
        });
        const db = getFirestore(app);
        const auth = getAuth(app);

        let jobType = 'êµ¬ì¸';
        let industry = 'ì‹ë‹¹/ìš”ë¦¬';
        let empType = 'ì •ê·œì§';

        window.selectJobType = (type) => {
            jobType = type;
            document.getElementById('btn-hire').classList.toggle('active', type === 'êµ¬ì¸');
            document.getElementById('btn-seek').classList.toggle('active', type === 'êµ¬ì§');
            const title = document.getElementById('title');
            title.placeholder = type === 'êµ¬ì¸' ? 'ì˜ˆ: í˜¸ì¹˜ë¯¼ í•œì‹ë‹¹ ì£¼ë°©ë³´ì¡° êµ¬í•©ë‹ˆë‹¤' : 'ì˜ˆ: ê²½ë ¥ 5ë…„ ì›¹ê°œë°œì êµ¬ì§í•©ë‹ˆë‹¤';
        };

        window.selectIndustry = (btn) => {
            document.querySelectorAll('.ind-chip').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            industry = btn.dataset.val;
        };

        window.selectEmp = (btn) => {
            document.querySelectorAll('.emp-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            empType = btn.dataset.val;
        };

        window.submitForm = async () => {
            const title = document.getElementById('title').value.trim();
            const salary = document.getElementById('salary').value.trim();
            const city = document.getElementById('city').value;
            const district = document.getElementById('district').value.trim();
            const deadline = document.getElementById('deadline').value.trim();
            const description = document.getElementById('description').value.trim();
            const requirements = document.getElementById('requirements').value.trim();
            const contact = document.getElementById('contact').value.trim();
            const contactName = document.getElementById('contact-name').value.trim();

            if (!title || title.length < 5) { alert('ì œëª©ì„ 5ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”.'); return; }
            if (!description || description.length < 20) { alert('ìƒì„¸ ë‚´ìš©ì„ 20ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”.'); return; }
            if (!city) { alert('ë„ì‹œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.'); return; }
            if (!contact) { alert('ì—°ë½ì²˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.'); return; }

            document.getElementById('submit-btn').disabled = true;
            const loading = document.getElementById('loading');
            loading.classList.add('active');

            try {
                const cred = await signInAnonymously(auth);
                document.getElementById('loading-text').textContent = 'ë“±ë¡ ì¤‘...';
                const docRef = await addDoc(collection(db, 'Jobs'), {
                    title, jobType, industry, salary: salary || 'í˜‘ì˜',
                    employmentType: empType, city, district,
                    contact, deadline,
                    description, requirements,
                    userId: cred.user.uid,
                    userEmail: 'kakaotalk-web@chaovietnam.co.kr',
                    userName: contactName || 'ì¹´ì¹´ì˜¤ ë“±ë¡',
                    source: 'kakaotalk-web',
                    status: 'ëª¨ì§‘ì¤‘',
                    images: [],
                    createdAt: serverTimestamp(),
                });

                const typeEmoji = jobType === 'êµ¬ì¸' ? 'ğŸ¢' : 'ğŸ‘¤';
                const shareText = [
                    `${typeEmoji} [${jobType}] ${title}`,
                    `ğŸ“‹ ì—…ì¢…: ${industry} | ${empType}`,
                    salary ? `ğŸ’° ê¸‰ì—¬: ${salary}` : '',
                    `ğŸ“ ê·¼ë¬´ì§€: ${city}${district ? ' ' + district : ''}`,
                    deadline ? `ğŸ“… ë§ˆê°: ${deadline}` : '',
                    ``,
                    description.length > 200 ? description.slice(0, 200) + '...' : description,
                    requirements ? `\nâœ… ìê²©ìš”ê±´: ${requirements.slice(0, 100)}` : '',
                    ``,
                    `ğŸ“ ì—°ë½ì²˜: ${contact}${contactName ? ' (' + contactName + ')' : ''}`,
                    `ğŸ”— ì”¬ì§œì˜¤ ì•± ë‹¤ìš´ë¡œë“œ â†’ https://play.google.com/store/apps/details?id=com.yourname.chaovnapp`,
                ].filter(Boolean).join('\n');

                document.getElementById('share-text').textContent = shareText;

                window.shareContent = {
                    id: docRef.id,
                    title: `${typeEmoji} [${jobType}] ${title}`,
                    description: `ğŸ“‹ ${industry} | ${empType}\n${salary ? `ğŸ’° ${salary}\n` : ''}ğŸ“ ${city}${district ? ' ' + district : ''}`,
                    imageUrl: 'https://chaovietnam-login.web.app/assets/icon.png'
                };
                document.getElementById('form-screen').style.display = 'none';
                document.getElementById('success-screen').style.display = 'block';
                window.scrollTo(0, 0);
            } catch (e) {
                alert('ë“±ë¡ ì¤‘ ì˜¤ë¥˜: ' + e.message);
                document.getElementById('submit-btn').disabled = false;
            } finally {
                loading.classList.remove('active');
            }
        };

        window.shareToKakao = function () {
            const content = window.shareContent;
            if (!content) return;

            if (typeof Kakao === 'undefined') {
                const text = document.getElementById('share-text').textContent;
                navigator.clipboard.writeText(text);
                alert('ì¹´ì¹´ì˜¤í†¡ ì‹œìŠ¤í…œ ì¼ì‹œ ì˜¤ë¥˜ì…ë‹ˆë‹¤. í…ìŠ¤íŠ¸ê°€ ëŒ€ì‹  ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.\nì¹´ì¹´ì˜¤í†¡ì— ê¸¸ê²Œ ëˆŒëŸ¬ ë¶™ì—¬ë„£ê¸° í•´ì£¼ì„¸ìš”!');
                return;
            }

            Kakao.Share.sendDefault({
                objectType: 'feed',
                content: {
                    title: content.title,
                    description: content.description,
                    imageUrl: content.imageUrl,
                    link: {
                        mobileWebUrl: `https://chaovietnam-login.web.app/download.html?type=job&id=${content.id}`,
                        webUrl: `https://chaovietnam-login.web.app/download.html?type=job&id=${content.id}`,
                    },
                },
                buttons: [
                    {
                        title: 'ì•±ì—ì„œ ìì„¸íˆ ë³´ê¸°',
                        link: {
                            mobileWebUrl: `https://chaovietnam-login.web.app/download.html?type=job&id=${content.id}`,
                            webUrl: `https://chaovietnam-login.web.app/download.html?type=job&id=${content.id}`,
                        },
                    },
                ],
            });
        };

        window.copyText = () => {
            const text = document.getElementById('share-text').textContent;
            navigator.clipboard.writeText(text).then(() => {
                const btn = document.querySelector('.copy-btn');
                btn.textContent = 'âœ… ë³µì‚¬ë¨!';
                setTimeout(() => { btn.textContent = 'ğŸ“‹ í…ìŠ¤íŠ¸ë§Œ ë³µì‚¬í•˜ê¸°'; }, 2000);
            });
        };
    </script>
</body>

</html>